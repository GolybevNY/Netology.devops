Домашнее задание к занятию "3.7. Компьютерные сети, лекция 2"
Проверьте список доступных сетевых интерфейсов на вашем компьютере. Какие команды есть для этого в Linux и в Windows?

Ответ:

В Windows:

![Ipconfig](https://user-images.githubusercontent.com/95014681/162779560-4e61b96e-90b4-4a1b-aee5-ccfc8b0ea365.png)

В Linux:

![Ip](https://user-images.githubusercontent.com/95014681/162780672-61f4f5ac-0a1c-488e-9b8a-48c3d98a03cf.png)


Какой протокол используется для распознавания соседа по сетевому интерфейсу? Какой пакет и команды есть в Linux для этого?

Ответ:

Протокол Link Layer Discovery Protocol (LLDP) — протокол канального уровня, позволяющий сетевому оборудованию оповещать оборудование, работающее в локальной сети, о своём существовании и передавать ему свои характеристики, а также получать от него аналогичные сведения.

В Linu для этого используется команда lldpctl из пакета lldpd.


Какая технология используется для разделения L2 коммутатора на несколько виртуальных сетей? Какой пакет и команды есть в Linux для этого? Приведите пример конфига.

Ответ:

Технология VLAN (Virtual Local Area Network) — виртуальная локальная компьютерная сеть.
На одном физическом порту может совместно существовать несколько VLAN-сетей, которые настраиваются программными средствами Linux, а не конфигурацией физических интерфейсов (но настройка самих интерфейсов тоже требуется). С помощью VLAN можно разделить сетевые ресурсы для использования различных сервисов.

Для настройки в Linux еужно загрузить драйвер ядра Linux под названием 8021. А затем установит пакет VLAN и использовать команду vlanconfig.


![VLAN](https://user-images.githubusercontent.com/95014681/162792376-46021213-63f3-4640-93f2-137088e675b5.png)

![VLANConfig](https://user-images.githubusercontent.com/95014681/162794378-d137a271-80b1-4502-8cf8-05088439ed54.png)

Какие типы агрегации интерфейсов есть в Linux? Какие опции есть для балансировки нагрузки? Приведите пример конфига.

Ответ:

Объединение сетевых карт в Linux можно осуществить с помощью драйвера bonding, он предоставляет методы для агрегирования нескольких сетевых интерфейсов в один логический. Поведение связанных интерфейсов зависит от режима. В общем случае, объединенные интерфейсы могут работать в режиме горячего резерва (отказоустойчивости) или в режиме балансировки нагрузки.

Для начала необходимо установить драйвер bonding в ядро Линукс:

vagrant@vagrant:/etc/network$ sudo modprobe bonding

vagrant@vagrant:/etc/network$ lsmod | grep bond

bonding               167936  0


Затем установим утилиту ifenslave:

 vagrant@vagrant:/etc/network$ sudo apt install ifenslave

![Bonding](https://user-images.githubusercontent.com/95014681/163002744-f51740bc-681f-42f1-8e70-7a45b5da4e67.png)

Пример конфигурации:

Для создания постоянного сетевого соединение, необходимо внести изменения в файл конфигурации сетевых интерфейсов /etc/network/interfaces:

![BondingConfig](https://user-images.githubusercontent.com/95014681/163005521-bcb0df2a-ce83-4558-8a37-5d8ebda2e51a.png)


Сколько IP адресов в сети с маской /29 ? Сколько /29 подсетей можно получить из сети с маской /24. Приведите несколько примеров /29 подсетей внутри сети 10.10.10.0/24.

Ответ:

![IPCalc](https://user-images.githubusercontent.com/95014681/163007820-d5ffc0d0-f15e-4c53-86ab-7c7bd023b86f.png)

В сети с маской /29 8 адресов: один адрес сети, один широковещательный адрес и 6 хостов.

В сети с маской /24 256 адресов: один адрес сети, один широковещательный адрес и 254 хостов.

256:8=32 - столько сетей /29 можно получить в сети /24.

Примеры подсетей /29 в сети /24:

10.10.10.0/29

10.10.10.8/29

10.10.10.16/29

10.10.10.24/29

и так далее...


Задача: вас попросили организовать стык между 2-мя организациями. Диапазоны 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16 уже заняты. Из какой подсети допустимо взять частные IP адреса? Маску выберите из расчета максимум 40-50 хостов внутри подсети.

Ответ:

Из частных подсетей еще остался доступен диапазон 100.64.0.0/10.

Подберем сеть исходя из 50 хостов:

![IPCalc_case](https://user-images.githubusercontent.com/95014681/163010227-9069a657-621d-4eb6-b1b1-780b2cb3561a.png)

Таким образом нам подойдет сеть с 64-мя адресвми, например: 100.64.0.0/26.


Как проверить ARP таблицу в Linux, Windows? Как очистить ARP кеш полностью? Как из ARP таблицы удалить только один нужный IP?

Для Linux:

![ARP_Linux](https://user-images.githubusercontent.com/95014681/163011584-2b25eb79-d797-43e5-ad68-14f88d3662ac.png)


Для Windows:

![ARP_Windows](https://user-images.githubusercontent.com/95014681/163011618-c32c849d-4c0a-4a1c-a66b-a98fc98cd25f.png)


Очистить ARP кеш полностью для Linux:

sudo ip -s -s neigh flush all

Удалить только один нужный IP для Linux:

sudo arp -d 192.168.0.102

Очистить ARP кеш полностью для Windows:

netsh interface ipv4 delete arpcache - Сброс кэша ARP для одного или всех интерфейсов.

или

netsh interface ipv4 delete neighbors - Сброс кэша ARP для одного или всех интерфейсов.

Удалить только один нужный IP для Windows:

arp -d 192.168.0.102

Задание для самостоятельной отработки (необязательно к выполнению)
8*. Установите эмулятор EVE-ng.

Инструкция по установке - https://github.com/svmyasnikov/eve-ng

Выполните задания на lldp, vlan, bonding в эмуляторе EVE-ng.

Как сдавать задания
Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.



